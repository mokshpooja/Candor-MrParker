<div class="index-section" data-section-id="{{ section.id }}" data-section-type="feat-image-section">
  
    {%- assign image_size = '2000x' -%}
    {%- assign img_url = section.settings.image | img_url: image_size -%}    
  
  <div class="featured-image-wrapper full-width-image-{{ section.id }}"{% if section.settings.image != blank %} style="background-image: url({{ img_url }});"{% endif %}> 
    <div class="row tc">
      <div class="feat-image-content desktop-12 tablet-6 mobile-3">     
        <div class="feat-image-text">
          {{ section.settings.page-text | escape }}
          <div class="clear"></div>
          {% if section.settings.link != blank %}
          <a class="button" href="{{ section.settings.link }}">{{ section.settings.button-text }}</a>
          {% endif %}
        </div>
        
        {% if section.settings.image == blank %}
        <div class="onboard plax-placehold">
          {{ 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg' }}
        </div>
        {% endif %}
        
      </div>
    </div>
  </div>
</div>
<div class="clear"></div>

<style>
  .featured-image-wrapper .row.tc {
    height: {{ section.settings.image-height }}px;
  }
  .full-width-image-{{ section.id }} {
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center center;
    padding-top: 0;
    margin-top: 25px;
    margin-bottom: 25px;
  }  
  .full-width-image-{{ section.id }} .feat-image-text {
    font-size: {{ section.settings.font-size }}px;
    font-weight: {{ section.settings.font-weight }};
    color: {{ section.settings.text-color }};
  }
  
</style>
{% schema %}
{
  "name": "Image with text overlay",
  "settings": [
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },
      {
        "type":      "range",
        "id":        "image-height",
        "min":       100,
        "max":        1000,
        "step":       100,
        "unit":       "px",
        "label":     "section height",
        "default":   600
      },
      {
        "type": "text",
        "id": "page-text",
        "label": "Add some content to accompany your image"
      },
      {
          "type": "url",
          "id": "link",
          "label": "Link"
      },
      {
       "id": "button-text",
       "type": "text",
       "label": "Button text",
	   "default": "Add a button",
	   "info": "Visible only if a link has been chosen"
      },
      {
        "type": "range",
        "id": "font-size",
        "min": 12,
        "max": 36,
        "step": 1,
        "unit": "px",
        "label": "Text size",
        "default": 26
      },       
      {
        "type": "select",
        "id": "font-weight",
        "label": "Text weight",
        "options": [
          {
            "value": "400",
            "label": "Normal"
          },
          {
            "value": "300",
            "label": "Light"
          },
          {
            "value": "700",
            "label": "Bold"
          }
        ]
      },
      {
        "type": "color",
        "id": "text-color",
        "label": "Text color",
        "default": "#000"
      }
  ],
  "presets": [
    {
      "name": "Image with text overlay",
      "category": "Image"
    }
  ]
}
{% endschema %}
